{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/tony/Desktop/App_Academy/Mern/menutube/frontend/src/components/videos/feed_video.jsx\";\nimport React from \"react\";\nimport ReactPlayer from \"react-player/file\";\nimport \"./feed_video.css\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport DraggableVideo from \"../calendar/draggablevideo\";\nimport { savePost } from '../../actions/post_actions';\nimport { connect } from 'react-redux';\n\nclass VideoPlayer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      playing: false,\n      muted: true // saved: this.props.saved,\n\n    };\n    this.vidRef = /*#__PURE__*/React.createRef();\n    this.jumpToTime = this.jumpToTime.bind(this);\n    this.saveVid = this.saveVid.bind(this);\n    this.playVid = this.playVid.bind(this);\n    this.pauseVid = this.pauseVid.bind(this);\n  } // formatSeconds(secs) {\n  //   let remainingSecs = secs % 60;\n  //   let remainingMins = Math.floor(secs / 60);\n  //   if (remainingSecs < 10) {\n  //     remainingSecs = \"0\" + remainingSecs;\n  //   }\n  //   return `${remainingMins}:${remainingSecs}`;\n  // }\n\n\n  jumpToTime(secs) {\n    if (this.vidRef.current) {\n      this.vidRef.current.seekTo(secs);\n    }\n  }\n\n  playVid() {\n    this.setState({\n      playing: true,\n      muted: false\n    });\n  }\n\n  pauseVid() {\n    this.setState({\n      playing: false,\n      muted: true\n    });\n  }\n\n  saveVid() {\n    const body = {\n      userId: this.props.userId\n    };\n    this.props.savePost(this.props._id, body);\n  }\n\n  render() {\n    const overlay = this.state.playing ?\n    /*#__PURE__*/\n    // <div className=\"playing-container\">\n    _jsxDEV(\"div\", {\n      className: \"playing-overlay\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this) // </div>\n    :\n    /*#__PURE__*/\n    _jsxDEV(\"div\", {\n      className: \"paused-overlay\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"vedio-border\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dragvideo-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(DraggableVideo, {\n          id: this.props._id,\n          contents: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"video-container\",\n            onMouseEnter: this.playVid,\n            onMouseLeave: this.pauseVid,\n            children: [overlay, /*#__PURE__*/_jsxDEV(ReactPlayer, {\n              className: \"react-player\",\n              ref: this.vidRef,\n              url: this.props.url,\n              playing: this.state.playing,\n              muted: this.state.muted,\n              height: \"inherit\",\n              width: \"inherit\",\n              config: {\n                file: {\n                  attributes: {\n                    controlsList: [\"nodownload\"],\n                    disablePictureInPicture: true\n                  }\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"labels\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/show/${this.props._id}`,\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            id: \"title\",\n            children: this.props.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"save-btn\",\n          onClick: this.saveVid,\n          children: \"save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mStP = state => ({\n  userId: state.session.userInfo.id\n});\n\nconst mDtP = dispatch => ({\n  savePost: (postId, body) => dispatch(savePost(postId, body))\n});\n\nexport default withRouter(connect(mStP, mDtP)(VideoPlayer));","map":{"version":3,"sources":["/Users/tony/Desktop/App_Academy/Mern/menutube/frontend/src/components/videos/feed_video.jsx"],"names":["React","ReactPlayer","withRouter","Link","DraggableVideo","savePost","connect","VideoPlayer","Component","constructor","props","state","playing","muted","vidRef","createRef","jumpToTime","bind","saveVid","playVid","pauseVid","secs","current","seekTo","setState","body","userId","_id","render","overlay","url","file","attributes","controlsList","disablePictureInPicture","title","mStP","session","userInfo","id","mDtP","dispatch","postId"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ReactPlayer from \"react-player/file\";\nimport \"./feed_video.css\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport DraggableVideo from \"../calendar/draggablevideo\";\nimport {savePost} from '../../actions/post_actions';\nimport {connect} from 'react-redux';\n\nclass VideoPlayer extends React.Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      playing: false,\n      muted: true,\n      // saved: this.props.saved,\n    };\n\n    this.vidRef = React.createRef();\n\n    this.jumpToTime = this.jumpToTime.bind(this);\n    this.saveVid = this.saveVid.bind(this);\n    this.playVid = this.playVid.bind(this);\n    this.pauseVid = this.pauseVid.bind(this);\n  }\n\n\n  // formatSeconds(secs) {\n  //   let remainingSecs = secs % 60;\n  //   let remainingMins = Math.floor(secs / 60);\n  //   if (remainingSecs < 10) {\n  //     remainingSecs = \"0\" + remainingSecs;\n  //   }\n  //   return `${remainingMins}:${remainingSecs}`;\n  // }\n\n  jumpToTime(secs) {\n    if (this.vidRef.current) {\n      this.vidRef.current.seekTo(secs);\n    }\n  }\n\n  playVid() {\n    this.setState({\n      playing: true,\n      muted: false,\n    });\n  }\n\n  pauseVid() {\n    this.setState({\n      playing: false,\n      muted: true,\n    });\n  }\n\n  saveVid() {\n   const body = {userId: this.props.userId}\n   this.props.savePost(this.props._id, body)\n  }\n\n  render() {\n    const overlay = this.state.playing ? (\n      // <div className=\"playing-container\">\n        <div className=\"playing-overlay\">\n          \n        </div>\n      // </div>\n    ) : (\n      <div className=\"paused-overlay\">     \n      </div>\n    );\n\n    return (\n      <div className=\"vedio-border\">\n      <div className=\"dragvideo-wrapper\">\n        <DraggableVideo id={this.props._id} \n        contents={\n        <div\n          className=\"video-container\"\n          onMouseEnter={this.playVid}\n          onMouseLeave={this.pauseVid}\n        >\n        {overlay}\n        \n        <ReactPlayer\n          className=\"react-player\"\n          ref={this.vidRef}\n          url={this.props.url}\n          playing={this.state.playing}\n          muted={this.state.muted}\n          height={\"inherit\"}\n          width={\"inherit\"}\n          config={{\n            file: {\n              attributes: {\n                controlsList: [\"nodownload\"],\n                disablePictureInPicture: true,\n              },\n            },\n          }}\n          />\n          \n        </div>\n        }/>\n        </div>\n        \n        <div id=\"labels\">\n          \n          <Link to={`/show/${this.props._id}`}>\n            <h1 id=\"title\">{this.props.title}</h1>\n          </Link>\n          <button\n            className=\"save-btn\"\n            onClick={this.saveVid}\n          >\n            save{/* {this.state.saved ? \"u\" : \"s\"} */}\n          </button>\n          {/* <p id=\"username\">{this.props.user.username}</p> */}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mStP = state => ({\n  userId: state.session.userInfo.id\n})\n\nconst mDtP = dispatch => ({\n  savePost: (postId, body) => dispatch(savePost(postId, body))\n})\n\n\n\nexport default withRouter(connect(mStP, mDtP)(VideoPlayer));\n"]},"metadata":{},"sourceType":"module"}