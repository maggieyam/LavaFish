{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/tony/Desktop/App_Academy/Mern/menutube/frontend/src/components/calendar/slot.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport ReactPlayer from \"react-player/file\";\n\nclass Slot extends React.Component {\n  constructor(props) {\n    super(props);\n    this.addVideo = this.addVideo.bind(this);\n    this.removeVideo = this.removeVideo.bind(this);\n    this.slotRef = /*#__PURE__*/React.createRef();\n    this.state = {\n      video: !!this.props.savedUrl\n    };\n    this.storedVideo = this.storedVideo.bind(this);\n  }\n\n  storedVideo() {\n    return /*#__PURE__*/_jsxDEV(ReactPlayer, {\n      className: \"react-player\",\n      url: this.props.savedUrl,\n      playing: true,\n      muted: true,\n      height: \"inherit\",\n      width: \"inherit\",\n      style: {\n        cursor: 'pointer'\n      },\n      onClick: () => this.props.history.push(`/show/${this.props.postId}`),\n      config: {\n        file: {\n          attributes: {\n            controlsList: [\"nodownload\"],\n            disablePictureInPicture: true\n          }\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 18\n    }, this);\n  }\n\n  addVideo(e) {\n    e.preventDefault();\n    if (this.state.video) return;\n    const videoId = e.dataTransfer.getData('videoId');\n    const video = document.getElementById(videoId).cloneNode(true);\n    const [day, num] = this.props.className.split(\"-\"); // send post to backend\n\n    video.id = video.id + \"a\";\n    video.draggable = false;\n    video.style.height = \"150px\";\n    video.style.width = \"150px\";\n    e.target.appendChild(video);\n    let player = video.querySelector('video');\n    player.muted = true;\n    video.addEventListener(\"click\", () => {\n      this.props.history.push(`/show/${videoId}`);\n    });\n    this.setState({\n      video: true\n    });\n  }\n\n  dragOver(e) {\n    e.preventDefault();\n  }\n\n  removeVideo(e) {\n    e.preventDefault();\n    const slot = this.slotRef.current;\n    slot.removeChild(slot.firstChild);\n    this.setState({\n      video: false\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `slot ${this.props.className}`,\n      onDrop: this.addVideo,\n      onDragOver: this.dragOver,\n      ref: this.slotRef,\n      children: [this.props.savedUrl ? this.storedVideo() : null, this.state.video ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.removeVideo,\n        children: '\\u00D7'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 27\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mDtP = dispatch => ({// submit calendar meal\n});\n\nexport default withRouter(connect(null, mDtP)(Slot));","map":{"version":3,"sources":["/Users/tony/Desktop/App_Academy/Mern/menutube/frontend/src/components/calendar/slot.jsx"],"names":["React","connect","withRouter","ReactPlayer","Slot","Component","constructor","props","addVideo","bind","removeVideo","slotRef","createRef","state","video","savedUrl","storedVideo","cursor","history","push","postId","file","attributes","controlsList","disablePictureInPicture","e","preventDefault","videoId","dataTransfer","getData","document","getElementById","cloneNode","day","num","className","split","id","draggable","style","height","width","target","appendChild","player","querySelector","muted","addEventListener","setState","dragOver","slot","current","removeChild","firstChild","render","mDtP","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport ReactPlayer from \"react-player/file\";\n\n\n\nclass Slot extends React.Component {\n\n  constructor(props){\n    super(props);\n    this.addVideo = this.addVideo.bind(this);\n    this.removeVideo = this.removeVideo.bind(this);\n    this.slotRef = React.createRef();\n    this.state = { video: !!this.props.savedUrl};\n    this.storedVideo = this.storedVideo.bind(this);\n  }\n\n  storedVideo() {\n\n         return (<ReactPlayer\n          className=\"react-player\"\n          url={this.props.savedUrl}\n          playing={true}\n          muted={true}\n          height={\"inherit\"}\n          width={\"inherit\"}\n          style={{cursor: 'pointer'}}\n          onClick={() => this.props.history.push(`/show/${this.props.postId}`)}\n          config={{\n            file: {\n              attributes: {\n                controlsList: [\"nodownload\"],\n                disablePictureInPicture: true,\n              },\n            },\n          }}\n          />)\n      \n  }\n\n\n  \n  addVideo(e){\n    e.preventDefault();\n    if (this.state.video) return;\n\n    const videoId = e.dataTransfer.getData('videoId');\n    const video = document.getElementById(videoId).cloneNode(true);\n    \n    const [day, num] = this.props.className.split(\"-\");\n    // send post to backend\n\n    video.id = video.id+\"a\";\n    video.draggable = false;\n    video.style.height = \"150px\";\n    video.style.width = \"150px\";\n    \n    e.target.appendChild(video);\n\n    let player = video.querySelector('video');\n    player.muted = true;\n\n    video.addEventListener(\"click\", () => {\n      this.props.history.push(`/show/${videoId}`);\n    })\n\n    this.setState({video: true})\n  }\n\n  dragOver(e){\n    e.preventDefault()\n  }\n\n  removeVideo(e){\n    e.preventDefault();\n    const slot = this.slotRef.current;\n    slot.removeChild(slot.firstChild)\n    this.setState({video: false})\n  }\n\n\n  render() {\n    return (\n      <div className={`slot ${this.props.className}`}\n        onDrop={this.addVideo} \n        onDragOver={this.dragOver}\n        ref={this.slotRef}>\n        {(this.props.savedUrl) ? this.storedVideo() : null}\n      {this.state.video ? <button onClick={this.removeVideo}>{'\\u00D7'}</button> : null}\n      </div>\n    )\n  }\n}\n\nconst mDtP = dispatch => ({\n  // submit calendar meal\n})\n\nexport default withRouter(connect(null, mDtP)(Slot));"]},"metadata":{},"sourceType":"module"}